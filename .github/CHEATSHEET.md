# ? GitHub Actions - ?????????

## ?? ??????? ???????

### ????????? ????????? ? ????????? ?????
```bash
git add .
git commit -m "Your message"
git push
# ? ????? ?????????? ?????????????
```

### ??????? PR ? ?????????????
```bash
git checkout -b feature/new-feature
# ??????? ?????????
git push origin feature/new-feature
# ???????? PR ?? GitHub ? ? ????? ?????????????
```

### ????????? ?????? ????????? ????????
```bash
gh run list --limit 5
```

### ??????? ????
```bash
gh run view <run-id> --log
```

### ??????? ?????????
```bash
gh run download <run-id>
```

---

## ?? ??????? ??????

| ??? ????? | ?????? |
|-----------|--------|
| ?? ??? ??????? | https://github.com/maximsoh1/PlaywrightProject/actions |
| ?? Allure ?????? | https://maximsoh1.github.io/PlaywrightProject/ |
| ?? ????????? Actions | https://github.com/maximsoh1/PlaywrightProject/settings/actions |
| ?? ????????? Pages | https://github.com/maximsoh1/PlaywrightProject/settings/pages |
| ?? Issues | https://github.com/maximsoh1/PlaywrightProject/issues |

---

## ?? ????? ???????????? ????? workflow

| ???????? | Workflow | ??? ????????? |
|----------|----------|---------------|
| ?????? commit | Playwright Tests | ????????????? ??? push |
| ???????? PR | PR Tests | ????????????? ??? ???????? PR |
| ??????? ?? ???? ????????? | Nightly Tests | ????????????? ? 2:00 UTC ??? ??????? |
| Smoke ????? | Manual Test Run | ???????, filter: `category=smoke` |
| ????? ????? ???? | Manual Test Run | ???????, filter: `FullyQualifiedName~Shopping` |
| ????? ??????? | Manual Test Run | ???????, browser: `all`, env: `production` |
| Accessibility ???????? | Accessibility Tests | ??????? (????????? ????????) |

---

## ?? ??????? ??????

### ?? ?????????
```
category=smoke
category=regression
```

### ?? ?????
```
FullyQualifiedName~Shopping
FullyQualifiedName~Login
```

### ?????????? ????
```
FullyQualifiedName=VSProject.Features.ShoppingFeature.CompleteShoppingJourney
```

### ????????? ???????? (OR)
```
(FullyQualifiedName~Shopping)|(FullyQualifiedName~Login)
```

### ????????? ???????? (AND)
```
category=smoke&FullyQualifiedName~Shopping
```

---

## ?? ??? ????? ?????????

1. ????????: https://github.com/maximsoh1/PlaywrightProject/actions
2. ???????? ?????? run
3. ?????????? ???? ? ?????? **"Artifacts"**
4. ???????? ??????:
   - `allure-results` - ??? ????????? ???????
   - `test-screenshots` - ????????? (???? ????? ?????)
   - `test-videos` - ????? (???? ????? ?????)
   - `test-results` - TRX ?????

---

## ?? ??????? ??????? ???????

### Workflow ?? ???????????
```bash
# ????????? ??? ????? ? ???????????
ls .github/workflows/

# ???????? workflows
git push origin feature/Tests

# ????????? Settings ? Actions ? Allow all actions
```

### ????? ?????? ?????? ? CI
1. ???????? screenshots ?? artifacts
2. ????????? ???????? ? ??????
3. ????????? headless ?????

### .NET 10 ?? ??????
??? ?????????! ? workflow ????????????:
```yaml
dotnet-quality: 'preview'
```

### Allure ?????? ?? ???????????
1. ????????? GitHub Pages:
   - Settings ? Pages
   - Source: `gh-pages` branch
   - Folder: `/ (root)`
2. ????????? ??????? ??????? workflow
3. ???????? ????? 5 ?????

---

## ?? ????????? Manual Test Run

| ???????? | ????????? ???????? | ?? ????????? |
|----------|-------------------|--------------|
| browser | chromium, firefox, webkit, all | chromium |
| test_filter | ????? dotnet test filter | ????? (??? ?????) |
| headless | true, false | true |
| environment | staging, production, local | staging |

---

## ?? ?????? badges ??? README

```markdown
[![Playwright Tests](https://github.com/maximsoh1/PlaywrightProject/actions/workflows/playwright-tests.yml/badge.svg)](https://github.com/maximsoh1/PlaywrightProject/actions/workflows/playwright-tests.yml)

[![Nightly Tests](https://github.com/maximsoh1/PlaywrightProject/actions/workflows/nightly-tests.yml/badge.svg)](https://github.com/maximsoh1/PlaywrightProject/actions/workflows/nightly-tests.yml)
```

---

## ?? ????????? ???????????

### ? Telegram
???????? ? ????? workflow:
```yaml
- name: Send notification
  if: always()
  uses: appleboy/telegram-action@master
  with:
    to: ${{ secrets.TELEGRAM_TO }}
    token: ${{ secrets.TELEGRAM_TOKEN }}
    message: |
      ????? ?????????: ${{ job.status }}
```

### ? Slack
```yaml
- name: Send notification
  if: always()
  uses: 8398a7/action-slack@v3
  with:
    status: ${{ job.status }}
    webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

---

## ?? ???????? ??????

### ??????: ????????? smoke ????? ????? ????
1. Actions ? Manual Test Run
2. browser: `chromium`
3. test_filter: `category=smoke`
4. environment: `staging`
5. Run workflow

### ??????: ?????? ??????? ?? ???? ?????????
1. Actions ? Nightly Tests
2. Run workflow (???????, ?? ????? ??????????)

### ??????: ????????? ?????????? ????
1. Actions ? Manual Test Run
2. test_filter: `FullyQualifiedName~Shopping`
3. Run workflow

### ??????: ????? ????? production ???????
1. Actions ? Manual Test Run
2. browser: `all`
3. test_filter: ????? (??? ?????)
4. environment: `production`
5. Run workflow
6. ????????? ?????????? ? Allure

---

## ?? ???????? GitHub CLI ???????

```bash
# ?????????? GitHub CLI
winget install GitHub.cli

# ??????????????
gh auth login

# ?????? ????????? ????????
gh run list

# ?????? ???????
gh run view <run-id>

# ???? ???????
gh run view <run-id> --log

# ??????? ?????????
gh run download <run-id>

# ????????? workflow ???????
gh workflow run playwright-tests.yml

# ?????? ???????? ???????
gh run watch
```

---

## ?? ??????? ????????? ?? ????????????

| ???????? | ??? ???? |
|----------|----------|
| [QUICKSTART.md](.github/QUICKSTART.md) | ?????? ?? 5 ????? |
| [GITHUB_ACTIONS_GUIDE.md](.github/GITHUB_ACTIONS_GUIDE.md) | ?????? ???? |
| [WORKFLOWS_DIAGRAM.md](.github/WORKFLOWS_DIAGRAM.md) | ?????????? ????? |
| [PRE_RELEASE_CHECKLIST.md](.github/PRE_RELEASE_CHECKLIST.md) | ??????? ????? ??????? |
| [CI_CD_SETUP_COMPLETE.md](.github/CI_CD_SETUP_COMPLETE.md) | ??? ???? ????????? |

---

## ?? ????????? ????? ??????????

| Workflow | ????? | ???????? |
|----------|-------|----------|
| Playwright Tests | 5-7 ??? | Chromium |
| PR Tests | 5-7 ??? | Chromium |
| Manual Test Run | 5-15 ??? | ??????? ?? ?????? |
| Nightly Tests | 15-25 ??? | Chromium + Firefox + WebKit |

---

## ?? GitHub Actions Minutes

**Free tier:** 2000 ?????/????? ??? ????????? ????????????

**??????:**
- 1 ?????? Playwright Tests ? 7 ?????
- ~285 ???????? ? ????? ???????? ?????????
- ????????? ??????????? = ???????? ?

**???????????:**
- ??????????? ??????? ??? ??????? ????????
- Nightly tests ?????? ????? ?????
- PR tests ?????? ?? ????????? ?????

---

## ?? ?????????????? ????????

- [GitHub Actions Docs](https://docs.github.com/en/actions)
- [Playwright CI/CD](https://playwright.dev/dotnet/docs/ci)
- [Allure Report](https://docs.qameta.io/allure/)
- [NUnit Filters](https://docs.nunit.org/articles/nunit/running-tests/Test-Selection-Language.html)

---

**????????? ??? ????????? ? ????????! ??**
