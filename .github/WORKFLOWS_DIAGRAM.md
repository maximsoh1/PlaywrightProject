# ?? ?????????? ????? GitHub Actions Workflows

```
?? VSProject Repository
?
??? ?? Git Actions (Triggers)
?   ?
?   ??? ?? git push ? main/master/feature/Tests
?   ?   ???> ?? Playwright Tests Workflow
?   ?        ??? Setup .NET 10
?   ?        ??? Install Playwright
?   ?        ??? Run All Tests (Chromium)
?   ?        ??? Generate Allure Reports
?   ?        ??? ?? Publish to GitHub Pages
?   ?
?   ??? ?? Pull Request ? main/master
?   ?   ???> ?? PR Tests Workflow
?   ?        ??? Setup .NET 10
?   ?        ??? Install Playwright
?   ?        ??? Run All Tests (Chromium)
?   ?        ??? Parse Results
?   ?        ??? ?? Comment PR with Results
?   ?             ??? ? All Passed ? Allow Merge
?   ?             ??? ? Failed ? Block Merge
?   ?
?   ??? ?? Schedule (Cron: 0 2 * * *)
?   ?   ???> ?? Nightly Tests Workflow
?   ?        ??? Setup .NET 10
?   ?        ??? Install ALL Browsers
?   ?        ??? Run Tests (Matrix Strategy)
?   ?        ?   ??? ?? Chromium
?   ?        ?   ??? ?? Firefox
?   ?        ?   ??? ?? WebKit
?   ?        ??? ?? Save Separate Reports
?   ?
?   ??? ?? Manual Trigger (workflow_dispatch)
?       ???> ?? Manual Test Run Workflow
?            ??? Choose Parameters:
?            ?   ??? ?? Browser (chromium/firefox/webkit/all)
?            ?   ??? ?? Test Filter (optional)
?            ?   ??? ??? Headless (true/false)
?            ?   ??? ?? Environment (staging/prod/local)
?            ??? Setup .NET 10
?            ??? Install Selected Browser(s)
?            ??? Run Filtered Tests
?            ??? ?? Generate Custom Report
?
??? ?? Outputs & Artifacts
    ?
    ??? ?? GitHub Pages
    ?   ??? https://maximsoh1.github.io/PlaywrightProject/
    ?       ??? Allure Reports (Interactive)
    ?
    ??? ?? Artifacts (Download from Actions)
    ?   ??? allure-results/
    ?   ??? screenshots/ (on failure)
    ?   ??? videos/ (on failure)
    ?   ??? test-results.trx
    ?
    ??? ?? PR Comments
        ??? Test Results Summary
            ??? ? Passed: X
            ??? ? Failed: Y
            ??? ?? Total: Z
```

---

## ?? Workflow Flow Diagrams

### 1. Playwright Tests (Main Pipeline)

```
???????????????
?  git push   ?
???????????????
       ?
       ?
???????????????????????
? Checkout Code       ?
???????????????????????
       ?
       ?
???????????????????????
? Setup .NET 10       ?
???????????????????????
       ?
       ?
???????????????????????
? Restore & Build     ?
???????????????????????
       ?
       ?
???????????????????????
? Install Playwright  ?
???????????????????????
       ?
       ?
???????????????????????
? Run Tests           ?
???????????????????????
       ?
       ?
???????????????????????
? Generate Allure     ?
???????????????????????
       ?
       ?
???????????????????????
? Publish to Pages    ? ??> ?? https://maximsoh1.github.io/PlaywrightProject/
???????????????????????
       ?
       ?
???????????????????????
? Upload Artifacts    ? ??> ?? screenshots, videos, results
???????????????????????
```

### 2. PR Tests (Pull Request Checks)

```
???????????????
?  Open PR    ?
???????????????
       ?
       ?
???????????????????????
? Checkout PR Code    ?
???????????????????????
       ?
       ?
???????????????????????
? Setup & Build       ?
???????????????????????
       ?
       ?
???????????????????????
? Run Tests           ?
???????????????????????
       ?
       ???????????????????????????????
       ?              ?              ?
       ?              ?              ?
????????????   ????????????   ????????????
? ? Pass  ?   ? ? Fail  ?   ? Parse    ?
????????????   ????????????   ? Results  ?
     ?              ?          ????????????
     ?              ?               ?
     ????????????????               ?
            ?                       ?
            ?                       ?
    ??????????????????      ???????????????
    ? Comment PR     ?      ? Upload      ?
    ? with Results   ?      ? Artifacts   ?
    ??????????????????      ???????????????
            ?
            ?
    ??????????????????
    ? ? Allow Merge ?
    ? OR             ?
    ? ? Block Merge ?
    ??????????????????
```

### 3. Nightly Tests (Cross-Browser)

```
???????????????
? 2:00 UTC    ? (Cron Schedule)
???????????????
       ?
       ?
???????????????????????
? Matrix Strategy     ?
???????????????????????
       ?
       ???????????????????????????????????????????
       ?             ?             ?             ?
       ?             ?             ?             ?
????????????  ????????????  ????????????  ????????????
? Chromium ?  ? Firefox  ?  ? WebKit   ?  ? (parallel)
????????????  ????????????  ????????????  ????????????
     ?             ?             ?
     ?             ?             ?
????????????  ????????????  ????????????
? Run      ?  ? Run      ?  ? Run      ?
? Tests    ?  ? Tests    ?  ? Tests    ?
????????????  ????????????  ????????????
     ?             ?             ?
     ?             ?             ?
????????????  ????????????  ????????????
? Allure   ?  ? Allure   ?  ? Allure   ?
? Results  ?  ? Results  ?  ? Results  ?
? Chromium ?  ? Firefox  ?  ? WebKit   ?
????????????  ????????????  ????????????
     ?             ?             ?
     ?????????????????????????????
                   ?
                   ?
           ?????????????????
           ? Combined      ?
           ? Report        ?
           ?????????????????
```

### 4. Manual Test Run (Custom Parameters)

```
???????????????????????????
? User Opens Actions UI   ?
???????????????????????????
       ?
       ?
???????????????????????????
? Select Parameters:      ?
? ??????????????????????? ?
? ? Browser: chromium   ? ?
? ? Filter: category=X  ? ?
? ? Headless: true      ? ?
? ? Env: staging        ? ?
? ??????????????????????? ?
???????????????????????????
       ?
       ?
???????????????????????????
? Run with Custom Config  ?
???????????????????????????
       ?
       ?
???????????????????????????
? Generate Custom Report  ?
???????????????????????????
       ?
       ?
???????????????????????????
? Artifacts with run #    ?
???????????????????????????
```

---

## ?? Data Flow

```
????????????????
? Source Code  ?
????????????????
       ?
       ?
????????????????????
? GitHub Actions   ? ???????
????????????????????       ?
       ?                   ?
       ???????????????     ?
       ?             ?     ?
       ?             ?     ?
?????????????? ???????????????? ??????????????????
? Run Tests  ? ? Screenshots  ? ? Videos         ?
?????????????? ???????????????? ??????????????????
       ?              ?              ?
       ?              ?              ?
??????????????        ?              ?
? Test       ?        ?              ?
? Results    ?        ?              ?
??????????????        ?              ?
       ?              ?              ?
       ???????????????????????????????
              ?
              ?
       ????????????????
       ? Allure       ?
       ? Processor    ?
       ????????????????
              ?
              ?????????????????????????????????????
              ?                 ?                 ?
              ?                 ?                 ?
    ??????????????????? ???????????????? ????????????????
    ? GitHub Pages    ? ? Artifacts    ? ? PR Comment   ?
    ? (Allure Report) ? ? (Download)   ? ? (Summary)    ?
    ??????????????????? ???????????????? ????????????????
            ?
            ?
    ???????????????????????????????
    ? https://maximsoh1.github.io ?
    ? /PlaywrightProject/         ?
    ???????????????????????????????
```

---

## ?? Decision Tree: When to Use Which Workflow

```
                    ?????????????????????
                    ? What do you need? ?
                    ?????????????????????
                              ?
        ?????????????????????????????????????????????
        ?                     ?                     ?
        ?                     ?                     ?
?????????????????    ??????????????????    ????????????????
? Automatic     ?    ? Check PR       ?    ? Custom Test  ?
? on every push ?    ? before merge   ?    ? Run          ?
?????????????????    ??????????????????    ????????????????
        ?                     ?                    ?
        ?                     ?                    ?
?????????????????    ??????????????????    ????????????????
? Playwright    ?    ? PR Tests       ?    ? Manual Test  ?
? Tests         ?    ?                ?    ? Run          ?
?????????????????    ??????????????????    ????????????????


                    ?????????????????????
                    ? Need full         ?
                    ? regression?       ?
                    ?????????????????????
                              ?
                    ?????????????????????
                    ?                   ?
                    ?                   ?
            ?????????????????   ?????????????????
            ? Every night   ?   ? On demand     ?
            ?????????????????   ?????????????????
                    ?                   ?
                    ?                   ?
            ?????????????????   ?????????????????
            ? Nightly Tests ?   ? Manual Test   ?
            ? (scheduled)   ?   ? Run (all)     ?
            ?????????????????   ?????????????????
```

---

## ?? Status Flow

```
Test Run States:
    
    ? Queued
      ?
      ?
    ?? Running
      ?
      ?????????????????????????
      ?           ?           ?
      ?           ?           ?
    ? Success  ? Failed   ?? Cancelled
      ?           ?           ?
      ?           ?           ?
    ?? Report   ?? Report   ? No Report
      ?           ?
      ?           ?
      ?         ?? Notify
      ?           ?
      ?????????????????????????
                              ?
                              ?
                        ?? Archive
```

---

## ?? Best Practice Flow

```
Development Flow:

1. ?? Local Development
   ?
   ?
2. ?? Local Tests (dotnet test)
   ?
   ?
3. ?? git push feature/branch
   ?
   ?
4. ?? Automatic Tests Run (Playwright Tests)
   ?
   ???? ? Pass ???????
   ?                  ?
   ?                  ?
5. ?? Create PR    ? Verified
   ?
   ?
6. ?? PR Tests Run
   ?
   ???? ? Pass ???????
   ?                  ?
   ?                  ?
7. ?? Code Review  ? Tests Green
   ?
   ?
8. ? Merge to main
   ?
   ?
9. ?? Deploy (manual step)
   ?
   ?
10. ?? Nightly Regression (scheduled)
```

---

??? ????? ?????????? ??? ??? workflows ??????????????? ???? ? ??????! ??
